# brute force: pre order traversal
# sol2 time O(n), space O(h)
# dfs return tail

class Solution(object):
    def flatten(self, root):
        
        if not root:
            return None
        self.dfs(root)
        
    def dfs(self, node):
        if not node:
            return None
        
        left = self.dfs(node.left)
        right = self.dfs(node.right)
        if left:
            left.right = node.right
            node.right = node.left
            node.left = None
            
        if right:
            return right
        if left:
            return left
        return node
        
    
            
